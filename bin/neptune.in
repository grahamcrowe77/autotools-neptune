#!/usr/bin/env escript
%% -*- erlang -*-
%%! -pa NEPTUNE_EBINDIR

-define(COMMAND_NAME, "neptune").

main([Salutation]) ->
    case neptune:write(list_to_binary(Salutation)) of
	ok ->
	    halt(0);
	{error, max_salutation_length} ->
	    io:format("ERROR: Salutation length limit exceeded~n"),
	    halt(1)
    end;
main([]) ->
    neptune:write();
main(_) ->
    usage(),
    halt(1).

usage() ->
    io:format("~s [salutation]~n", [?COMMAND_NAME]),
    io:format("see manual page for ~s(1) for more details~n", [?COMMAND_NAME]).

